
metricbeat.modules:

- module: system
  metricsets:
    - cpu
    - load
    - memory
    - network
    - process
    - process_summary
    - uptime
    - socket_summary
    - diskio
  enabled: true
  period: 10s
  processes: ['.*']
  cpu.metrics:  ["percentages"]
  core.metrics: ["percentages"]
  fields:
    source: node-metrics
  fields_under_root: true

- module: docker
  metricsets:
  - cpu
  - diskio
  - healthcheck
  - info
  - memory
  - network
  hosts: ["unix:///var/run/docker.sock"]
  period: 10s
  fields:
    source: node-metrics
  fields_under_root: true

- module: docker
  metricsets:
  - container
  hosts: ["unix:///var/run/docker.sock"]
  period: 1m
  fields:
    source: node-metrics
  fields_under_root: true
  
output.console:
  enabled: true
  pretty: false

logging.level: warning
logging.metrics.enabled: false
logging.metrics.period: 30s
logging.json: false
